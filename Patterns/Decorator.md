# Декоратор

*Также известен как*: Wrapper, Обёртка, Decorator

*Сложность*: 2/3

*Популярность*: 2/3

Декоратор - это структурный паттерн, который позволяет добавлять объектам
новые поведения на лету, помещая их в объекты-обёртки.

Декоратор позволяет оборачивать объекты бесчисленное количество раз
благодаря тому, что и обёртки, и реальные оборачиваемые объекты имеют
общий интерфейс.

## Структура

![Структура](./images/decorator.png)

1. **Компонент** задаёт общий интерфейс обёрток и оборачиваемых объектов.

2. **Конкретный компонент** определяет класс оборачиваемых объектов.
Он содержит какое-то базовое поведение, которое потом изменяют декораторы.

3. **Базовый декоратор** хранит ссылку на вложенный объект-компонент.
Им может быть как конкретный компонент, так и один из конкретных декораторов.
Базовый декоратор делегирует все свои операции вложенному объекту.
Дополнительное поведение будет жить в конкретных декораторах.

4. **Конкретные декораторы** - это различные вариации декораторов,
которые содержат добавочное поведение. Оно выполняется до или после
вызова аналогичного поведения обёрнутого объекта.

5. **Клиент** может оборачивать простые компоненты и декораторы в другие декораторы,
работая со всеми объектами через общий интерфейс компонентов.

## Применимость

Паттерн можно часто встретить в коде, особенно в коде, работающем с потоками данных.

## Признаки применения паттерна

Декоратор можно распознать по создающим методам,
которые принимают в параметрах объекты того же абстрактного типа или интерфейса,
что и текущий класс.