# Фабричный метод

*Также известен как*: Виртуальный конструктор, Factory Method

*Сложность*: 1/3

*Популярность*: 3/3

**Фабричный метод** - это порождающий паттерн проектирования, который решает проблему создания
различных продуктов, без указания конкретных классов продуктов.

Фабричный метод задаёт метод, который следует использовать вместо вызова оператора `new` для
создания объектов-продуктов. Подклассы могут переопределить этот метод, чтобы изменять тип
создаваемых продуктов.

## Структура

![Структура](./images/factory_method.png)

1. **Продукт** определяет общий интерфейс объектов, которые может произвести создатель
и его подклассы.

2. **Конкретные продукты** содержат код различных продуктов.
Продукты будут отличаться реализацией, но интерфейс у них будет общий.

3. **Создатель** объявляет фабричный метод, который должен возвращать новые объекты
продуктов. Важно, чтобы тип результата совпадал с общим интерфейсом продуктов.

  Зачастую фабричный метод объявляют абстрактным, чтобы заставить все подклассы
  реализовать его по-своему. Но он может возвращать и некий стандартный продукт.

  Несмотря на название, важно понимать, что создание продуктов **не является**
  единственной функцией создателя. Обычно он содержит и другой полезный код
  работы с продуктом. Аналогия: большая софтверная компания может иметь центр
  подготовки программистов, но основная задача компании - создавать программные продукты,
  а не готовить программистов.

4. **Конкретные создатели** по-своему реализуют фабричный метод,
производя те или иные конкретные продукты.

  Фабричный метод не обязан всё время создавать новые объекты.
  Его можно переписать так, чтобы возвращать существующие объекты
  из какого-то хранилища или кэша.

## Применимость

Паттерн можно часто встретить в любом коде, где требуется гибкость при создании продуктов.

## Признаки применения паттерна

Фабричный метод можно определить по создающим методам, которые возвращают
объекты продуктов через абстрактные типы или интерфейсы.
Это позволяет переопределять типы создаваемых продуктов в подклассах.
