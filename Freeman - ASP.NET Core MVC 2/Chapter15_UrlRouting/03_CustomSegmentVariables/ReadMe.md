# Определение специальных переменных сегментов

Пример. Маршрут из `Startup.Configure()`:
```cs
...
route.MapRoute(
    name: "MyRoute",
    template: "{controller=Home}/{action=Index}/{id=DefaultId}");
...
```

Маршрут соответствует URL с количеством сегментов от 0 до 3. Содержимое третьего сегмента
присваивается переменной `id`, при отсутствии третьего сегмента применяется стандартное значение.


## Использование RouteData

В классе `Controller` (базовый класс для контроллеров), определено свойство `RouteData`.
Оно предоставляет детали о системе маршрутизации и о способе, которым маршрутизировался
текущий запрос.

Внутри контроллера можно получать доступ к любой переменной сегмента через `RouteData.Values`.

См. пример в `HomeController.CustomVariable()`:
Если ввести что-то типа `/Home/CustomVariable/Hello` - значение сегмента `id` в данном примере будет
`Hello`.
Если ввести `/Home/CustomVariable` - значение сегмента `id` будет равно `DefaultId`.


## Использование параметра метода действия

Если метод действия определяет параметры с именами, совпадающими с именами переменных шаблона URL,
то MVC будет передавать методу действия значения URL в виде аргументов.

См. пример в `HomeController.CustomVariable2()`.
Когда система маршрутизации обнаруживает соответствие URL, третьему сегменту присваивается
специальной переменной `id`. MVC сравнивает список переменных сегментов со списком параметров
действия. В случае совпадения передает значения из URL данному методу.

Тип параметра `id` в примере `string`. Но MVC будет пытаться преобразовать значение из URL
в любой тип, указанный для параметра (`int`, `DateTime` и т.п.).
