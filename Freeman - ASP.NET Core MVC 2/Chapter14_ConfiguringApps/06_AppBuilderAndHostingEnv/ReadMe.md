# Интерфейс IApplicationBuilder
`IApplicationBuilder` позволяет создать конвейер промежуточного ПО (Middleware).
В случае специальных компонентов Middleware используется расширяющий метод `UseMiddleware()`.

## Расширяющие методы IApplicationBuilder для MVC
* `UseMvcWithDefaultRoute()` - настраивает компоненты Middleware для MVC с использованием
стандартного маршрута (подробнее в главе 15).

* `UseMvc()` - настраивает компоненты Middleware для MVC с применением специальной конфигурации
маршрутизации, указанной посредством лямбда-выражения (подробнее в главе 15).


# Интерфейс IHostingEnvironment
Предоставляет базовую информацию о среде размещения, в которой работает приложение.
Свойства:
* `ApplicationName` - имя приложения.
* `EnvironmentName` - текущая среда (важное свойство - см. далее).
* `ContentRootPath` - путь к файлам содержимого и конфигурации приложения
(в большинстве приложений не используется).
* `WebRootPath` - путь к статическому содержимому для приложения (обычно папка `wwwroot`)
(в большинстве приложений не используется).
* `ContentRootFileProvider` - объект, реализующий `IFileProvider`. Используется для чтения файлов
из папки, указанной свойством `ContentRootPath`.
* `WebRootFileProvider` - объект, реализующий `IFileProvider`. Используется для чтения файлов
из папки, указанной свойством `WebRootPath`.


## О свойстве EnvironmentName и различных средах размещения
По соглашениям различают три среды размещения:
1. Среда разработки (Development).
1. Подготовительная среда (Staging).
1. Производственная среда (Production).

Текущая среда размещения устанавливается с применением переменной среды `ASPNETCORE_ENVIRONMENT`.
Переменная среды не чувствительна к регистру.

## Как поменять переменную среды
В Visual Studio:
Project -> ConfiguringApps Properties -> вкладка Debug -> ASPNETCORE_ENVIRONMENT

Расширяющие методы `IHostingEnvironment`:
* `IsDevelopment()` - возвращает `true`, если среда размещения `Development`.
* `IsStaging()` - возвращает `true`, если среда размещения `Staging`.
* `IsProduction()` - возвращает `true`, если среда размещения `Production`.
* `IsEnvironment(env)` - возвращает `true`, если среда размещения совпадает со значением
аргумента `env`.

Простой пример можно посмотреть в `Startup.Configure()`.
