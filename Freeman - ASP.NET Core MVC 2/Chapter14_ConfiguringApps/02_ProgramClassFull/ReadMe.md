# Класс Program
Представляет собой точку входа для запуска приложения.

## Содержимое стандартного класса Program
Файл `Program.cs`:
```cs
public class Program
{
    public static void Main(string[] args)
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =>
        WebHost.CreateDefaultBuilder(args)
            .UseStartup<Startup>();
}
```

* `Main()` обеспечивает точку входа.
* `BuildWebHost()` выполняет конфигурирование ASP.NET Core.

`CreateDefaultBuilder()` конфигурирует ASP.NET Core с использованием настроек,
подходящих большинству проектов (появился в ASP.NET Core 2).

`UseStartup()` идентифицирует класс, который предоставляет конфигурацию.
По умолчанию это класс `Startup`

`Build()` обрабатывает все настройки конфигурации и создает объект, реализующий `IWebHost`.

## Анализ деталей конфигурации
В файле `Program.cs` стандартный `CreateDefaultBuilder` заменен на отдельные операторы, создающие
стандартную конфигурацию.

* `UseKestrel()` конфигурирует веб-сервер Kestrel

* `UseContentRoot()` конфигурирует корневой каталог для приложения, который применяется для загрузки
файлов конфигурационных данных приложения и доставки статического содержимого, такого как
файлы изображений, JavaScript и CSS.

* `AddUserSecrets()` применяется для хранения конфиденциальных данных за пределами файлов кода.
Из-за неуклюжести автор не рекомендует к использованию.

* `ConfigureLogging()` конфигурирует регистрацию в журнале для приложения.

* `UseIISIntegration()` включает интеграцию с IIS и IIS Express.

* `UseDefaultServiceProvider()` конфигурирует внедрение зависимостей.

* `UseStartup` указывает класс, который используется для конфигурирования ASP.NET.

## Kestrel сервер
`Kestrel` - межплатформенный веб-сервер для приложений ASP.NET Core.
Запускается автоматически при запуске приложения с применением IIS / IIS Express.

Kestrel можно запускать напрямую:
1. Из панели инструментов VS: вместо IIS Express выбрать элемент, соответствующий имени проекта.
2. Из командной строки:
```
dotnet run
```

По умолчанию Kestrel прослушивает порт `5000` на предмет поступления HTTP-запросов.
Если в проекте есть файл `Properties/launchSettings.json`, тогда настройки порта HTTP и среды для
приложения будут читаться из него.
