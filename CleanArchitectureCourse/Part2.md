# Масштабирование

## Введение

### Применение на практике

- Подбор слоев и их связей в зависимости от специфики проекта
- Масштаб проекта
- Сложность бизнес-логики и логики приложения
- Количество инфраструктуры и интеграций

### Варианты масштаба

- Микросервис
  - Это проект, который реализует всего один Bounded Context, т.е. всего один кусочек
какой-то бизнес логики/предметной области, которые достаточно тесно друг с другом связаны.
  - Малый размер приложения.
  - Самый малый вариант масштаба.

- Стартап
  - Это проект, который делает небольшая команда (2-3 человека) в течение нескольких месяцев.
  - Размер проекта ~1000-2000 человеко-часов.
  - В дальнейшем может превратиться в средний проект.

- Средний проект
  - Это проект на ~5000 человеко-часов.

- Большой проект
  - Может содержать несколько Bounded Context (предметных областей).
  - Может содержать несколько входных точек (backend и/или frontend) в приложении.
  - Это проект на ~10000 и более человеко-часов.
  - Большая команда (5-7 человек) в течение полугода или 4-5 человек - год и более.

## Микросервис

<img src="images/22_microservice.jpg" alt="Microservice architecture" style="width:650px">

Замечания:

- Присутствуют все 4 уровня чистой архитектуры.
- Как правило почти все микросервисы работают с БД. У каждого микросервиса своя БД.
- `Controllers` в отдельный компонент не выделяются (входят в состав `Host`).
- В качестве `Host` выступает какой-нибудь framework.
- Отдельный компонент реализации доступа к БД (на схеме `DataAccess.MsSql`).
- Внутри `Host` может находиться инфраструктура `Infrastructure.Implementation`
(если ее не очень много).

Если `Infrastructure.Implementation` все же много, то выделяем в отдельный проект:

<img src="images/23_microservice2.jpg" alt="Microservice architecture" style="width:650px">

